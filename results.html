<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>FUTO ‚Ä¢ Results</title>
<link rel="preconnect" href="https://fonts.googleapis.com" />
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<link
href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap"
rel="stylesheet"
/>
<style>
  /* your exact CSS kept as-is */
  :root {
    --green: #0b7a3f;
    --green-dark: #096735;
    --light-bg: #f5f7fa;
    --white: #ffffff;
    --text-dark: #333333;
    --muted: #6b7280;
  }
  body { font-family: 'Inter', sans-serif; background: var(--light-bg); color: var(--text-dark); margin: 0; padding: 0; }
  header.header { background: var(--green); color: var(--white); padding: 1rem 2rem; }
  .header-inner { display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; max-width: 1100px; margin: 0 auto; }
  .brand { display: flex; align-items: center; gap: 0.6rem; }
  nav.site-nav a { color: var(--white); text-decoration: none; font-weight: 500; font-size: 1rem; padding: 0.5rem 1rem; border-radius: 4px; }
  nav.site-nav a.active { border-bottom: 2px solid var(--white); }
  main.container { max-width: 1100px; margin: 2rem auto; padding: 0 1rem; }
  .content-layout { display: flex; gap: 2rem; margin-top: 2rem; }
  .main-results { flex: 3; min-width: 0; }
  .sidebar { flex: 1; min-width: 250px; }
  .results-table-wrapper { margin-top: 1.5rem; overflow-x: auto; border-radius: 10px; border: 1px solid #ddd; }
  .results-table { width: 100%; border-collapse: separate; min-width: 650px; }
  .results-table th, .results-table td { padding: 14px 18px; text-align: left; border-bottom: 1px solid #ddd; font-size: 0.95rem; }
  .results-table th { background-color: var(--light-bg); color: var(--muted); font-weight: 600; text-transform: uppercase; font-size: 0.75rem; }
  .grade-pill { display: inline-flex; justify-content: center; align-items: center; width: 30px; height: 30px; border-radius: 50%; font-weight: 700; font-size: 0.9rem; color: var(--white); }
  .grade-A { background-color: var(--green); }
  .grade-B { background-color: #22c55e; }
  .grade-C { background-color: #f59e0b; }
  .grade-D { background-color: #f97316; color: var(--text-dark); }
  .grade-E { background-color: #ef4444; }
</style>
</head>
<body>
  <header class="header">
    <div class="header-inner">
      <div class="brand">
        <img src="Federal-University-of-Technology-Owerri-logo (1).jpg" alt="FUTO Logo" style="height:32px;width:32px;border-radius:50%;">
        <div>
          <strong>FUTO</strong>
          <div style="font-size:.82rem;color:rgba(255,255,255,.9)">Computer Science Department</div>
        </div>
      </div>
      <nav id="siteNav" class="site-nav">
        <a href="index.html">Home</a>
        <a href="announcements.html">Announcements</a>
        <a href="events.html">Events</a>
        <a href="results.html" class="active">Results</a>
        <a href="contact.html">Contact</a>
        <a href="admin.html">Admin</a>
      </nav>
    </div>
  </header>

  <main class="container">
    <h2>Academic Records Dashboard üéì</h2>
    <p style="color:var(--muted)">Official course results for the current session.</p>

    <div class="content-layout">
      <div class="sidebar">
        <!-- filters and summary (unchanged) -->
        <div class="card summary-card" style="margin-top: 1.5rem;">
          <h3>Academic Summary</h3>
          <p><span>Credit Units Registered:</span> <strong style="color: var(--text-dark);">24</strong></p>
          <p><span>Total Grade Points:</span> <strong style="color: var(--text-dark);">93</strong></p>
          <p style="color: var(--muted); font-size: 0.9rem;"><span>Cumulative GPA (CGPA):</span> <strong style="color: var(--text-dark);">4.15</strong></p>
          <div class="gpa-highlight">
            <span>Semester GPA:</span>
            <span style="font-size: 1.5rem;">3.88</span>
          </div>
        </div>
      </div>

      <div class="main-results">
        <h3 style="margin-top: 0.5rem;">300 Level Rain Semester Results (2024/2025)</h3>
        <div class="results-table-wrapper">
          <table class="results-table" id="resultsTable">
            <thead>
              <tr>
                <th>Course Code</th>
                <th>Course Title</th>
                <th>Units</th>
                <th>Score</th>
                <th>Grade</th>
              </tr>
            </thead>
            <tbody>
              <!-- Hardcoded sample results -->
              <tr><td>CSC 302</td><td>Computer Programming I</td><td>3</td><td>78</td><td><span class="grade-pill grade-A">A</span></td></tr>
              <tr><td>CSC 306</td><td>Data Structures and Algorithms</td><td>3</td><td>65</td><td><span class="grade-pill grade-B">B</span></td></tr>
              <tr><td>CIT 302</td><td>Machine Programming</td><td>2</td><td>81</td><td><span class="grade-pill grade-A">A</span></td></tr>
              <tr><td>CIT 304</td><td>Computer Hardware</td><td>3</td><td>54</td><td><span class="grade-pill grade-C">C</span></td></tr>
              <tr><td>CSC 308</td><td>Operating Systems I</td><td>3</td><td>42</td><td><span class="grade-pill grade-E">E</span></td></tr>
              <tr><td>CIT 306</td><td>Fundamentals Of Programming</td><td>3</td><td>70</td><td><span class="grade-pill grade-A">A</span></td></tr>
              <tr><td>ENS 302</td><td>Entreprenuership Training</td><td>3</td><td>68</td><td><span class="grade-pill grade-B">B</span></td></tr>
              <tr><td>CSC 310</td><td>Introduction to Software Engineering</td><td>4</td><td>72</td><td><span class="grade-pill grade-A">A</span></td></tr>
            </tbody>
          </table>
        </div>
        <div style="text-align: center; margin-top: 2rem;">
          <a href="#" class="download-btn">Download Official Statement of Results (PDF) ‚¨á</a>
        </div>
      </div>
    </div>
  </main>

  <footer class="footer" style="background: #096735;">
    <div>
      <div>¬© 2025 FUTO</div>
      <div>Contact: csdept@futo.edu.ng</div>
    </div>
  </footer>

  
  <script>
    const API_BASE = "https://group17.onrender.com";

    async function loadDbResults() {
      const tableBody = document.querySelector("#resultsTable tbody");

      try {
        const res = await fetch(`${API_BASE}/api/results/pdfs`);
        const data = await res.json();

        if (res.ok && data.success && data.results.length) {
          data.results.forEach(r => {
            const row = document.createElement("tr");
            row.innerHTML = `
              <td colspan="5">
                <a href="${API_BASE}/uploads/${r.filename}" target="_blank" style="color: var(--green); font-weight:600; text-decoration:none;">
                  üìÑ ${r.filename}
                </a>
              </td>
            `;
            tableBody.appendChild(row);
          });
        } else {
          const row = document.createElement("tr");
          row.innerHTML = `<td colspan="5" style="text-align:center; color: var(--muted);">No additional results found in database.</td>`;
          tableBody.appendChild(row);
        }
      } catch (err) {
        console.error("Error loading results:", err);
        const row = document.createElement("tr");
        row.innerHTML = `<td colspan="5" style="text-align:center; color:red;">‚ùå Could not load results from server.</td>`;
        tableBody.appendChild(row);
      }
    }

    // Load DB results after static ones
    loadDbResults();
  </script>
</body>
</html>