<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Admin Dashboard ‚Ä¢ FUTO Dept.</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  <style>
    body { font-family: 'Poppins', sans-serif; background: #0b7a3f; color: white; margin: 0; padding: 0; display: flex; flex-direction: column; align-items: center; min-height: 100vh; }
    header { width: 100%; background: #096735; padding: 1rem; text-align: center; }
    header h1 { margin: 0; font-size: 1.5rem; }
    main { flex: 1; padding: 2rem; width: 100%; max-width: 800px; }
    .card { background: white; color: #333; padding: 1.5rem; border-radius: 12px; margin-bottom: 1.5rem; }
    input, textarea { width: 100%; margin-bottom: 1rem; padding: 10px; border-radius: 6px; border: 1px solid #ccc; }
    button { background: #0b7a3f; color: white; border: none; padding: 10px 15px; border-radius: 6px; cursor: pointer; }
    button:hover { background: #096735; }
    footer { background: #096735; padding: 1rem; width: 100%; text-align: center; color: white; }
  </style>
</head>
<body>
  <header>
    <h1>Welcome to FUTO Admin Dashboard</h1>
  </header>

  <main>
    <div class="card">
      <h3>Upload Announcement</h3>
      <form id="announcementForm">
        <input type="text" id="title" placeholder="Announcement Title" required />
        <textarea id="message" placeholder="Message" required></textarea>
        <button type="submit">Post Announcement</button>
      </form>
      <div id="announcementMsg"></div>
    </div>

        <!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Upload Results ‚Ä¢ Admin</title>
  <style>
    body { font-family: Poppins, sans-serif; background:#0b7a3f; color:white; display:flex; flex-direction:column; align-items:center; min-height:100vh; }
    .card { background:white; color:#333; padding:1.5rem; margin-top:3rem; border-radius:10px; width:350px; }
    input, button { width:100%; padding:10px; margin-top:10px; border-radius:5px; border:none; }
    button { background:#0b7a3f; color:white; cursor:pointer; }
    button:hover { background:#096735; }
    #msg { margin-top:10px; font-weight:600; }
  </style>
</head>

<script>
document.getElementById("announcementForm").addEventListener("submit", async (e) => {
  e.preventDefault();

  const title = document.getElementById("title").value.trim();
  const message = document.getElementById("message").value.trim();
  const msgBox = document.getElementById("announcementMsg");

  if (!title || !message) {
    msgBox.textContent = "‚ùå Please fill in all fields.";
    msgBox.style.color = "red";
    return;
  }

  msgBox.textContent = "Posting...";
  msgBox.style.color = "orange";

  try {
    const res = await fetch("http://localhost:5000/admin/announcement", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ title, message })
    });

    const data = await res.json();
    if (res.ok) {
      msgBox.textContent = data.message || "‚úÖ Announcement posted!";
      msgBox.style.color = "green";
      e.target.reset();
    } else {
      msgBox.textContent = "‚ùå " + (data.message || "Failed to post.");
      msgBox.style.color = "red";
    }
  } catch (err) {
    console.error(err);
    msgBox.textContent = "‚ùå Server not reachable.";
    msgBox.style.color = "red";
  }
});
</script>

<body>
  <div class="card">
    <h2>üìÑ Upload Result (PDF)</h2>
    <form id="resultForm">
      <input type="file" id="resultFile" accept=".pdf" required>
      <button type="submit">Upload</button>
    </form>
    <div id="msg"></div>
  </div>

  <script>
    const form = document.getElementById("resultForm");
    const msg = document.getElementById("msg");

    form.addEventListener("submit", async (e) => {
      e.preventDefault();

      const fileInput = document.getElementById("resultFile");
      const file = fileInput.files[0];
      if (!file) return alert("Please select a PDF file.");

      const formData = new FormData();
      formData.append("resultFile", file);

      msg.textContent = "Uploading...";
      msg.style.color = "orange";

      try {
        const res = await fetch("http://localhost:5000/admin/upload-result", {
          method: "POST",
          body: formData
        });

        const data = await res.json();
        if (res.ok) {
          msg.textContent = "‚úÖ Result uploaded successfully!";
          msg.style.color = "green";
          form.reset();
        } else {
          msg.textContent = "‚ùå " + (data.message || "Upload failed.");
          msg.style.color = "red";
        }
      } catch (error) {
        console.error(error);
        msg.textContent = "‚ùå Could not connect to server.";
        msg.style.color = "red";
      }
    });
  </script>
</body>
</html>
