<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>FUTO • Announcements</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  <style>
    :root {
      --green: #0b7a3f;
      --green-dark: #096735;
      --light-bg: #f5f7fa;
      --white: #ffffff;
      --text-dark: #333333;
      --muted: #6b7280;
    }
    body { font-family:'Poppins',sans-serif; background:var(--light-bg); color:var(--text-dark); margin:0; }
    header.header { background:var(--green); color:var(--white); padding:1rem 2rem; }
    .header-inner { display:flex; justify-content:space-between; align-items:center; flex-wrap:wrap; }
    .brand { display:flex; align-items:center; gap:0.6rem; }
    .crest { background:var(--white); color:var(--green); font-weight:bold; font-size:1.2rem; border-radius:50%; width:32px; height:32px; display:flex; align-items:center; justify-content:center; }
    nav.site-nav a { color:var(--white); margin:0 0.6rem; text-decoration:none; font-weight:500; }
    nav.site-nav a.active { border-bottom:2px solid var(--white); padding-bottom:2px; }
    main.container { max-width:1100px; margin:2rem auto; padding:0 1rem; }
    .card { background:var(--white); padding:1.5rem; border-radius:10px; box-shadow:0 2px 6px rgba(0,0,0,0.08); margin-bottom:1.5rem; }
    .card h3 { margin-top:0; color:var(--green-dark); }
    .card small { color:var(--muted); font-size:0.85rem; }
    footer.footer { background:var(--green-dark); color:var(--white); padding:2rem 1rem; margin-top:3rem; }
    footer.footer div { display:flex; justify-content:space-between; align-items:center; max-width:1100px; margin:0 auto; }
  </style>
</head>
<body>
  <header class="header">
    <div class="header-inner">
      <div class="brand">
        <div class="crest">F</div>
        <div>
          <strong>FUTO</strong>
          <div style="font-size:.82rem;color:rgba(255,255,255,.9)">Computer Science Dept</div>
        </div>
      </div>
      <nav class="site-nav">
        <a href="index.html">Home</a>
        <a href="announcements.html" class="active">Announcements</a>
        <a href="events.html">Events</a>
        <a href="results.html">Results</a>
        <a href="contact.html">Contact</a>
        <a href="admin.html">Admin</a>
      </nav>
    </div>
  </header>

  <main class="container">
    <h2>Department Announcements</h2>
    <div id="announcement-list"></div>
  </main>

  <footer class="footer">
    <div>
      <div>© 2025 FUTO</div>
      <div>Contact: csdept@futo.edu.ng</div>
    </div>
  </footer>

  <script>
    fetch("https://GROUP17.onrender.com/user/announcements")
      .then(res => res.json())
      .then(data => {
        const container = document.getElementById("announcement-list");
        container.innerHTML = data.map(a => `
          <div class="card">
            <h3>${a.title}</h3>
            <p>${a.message}</p>
            <small>Posted: ${new Date(a.created_at).toLocaleString()}</small>
          </div>
        `).join("");
      })
      .catch(err => console.error("Error fetching announcements:", err));
  </script>
</body>
</html>